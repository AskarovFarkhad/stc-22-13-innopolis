## 3.4 Spring MVC

### REST API

* **REST API / REpresentational State Transfer Application Programming Interface** - стиль написания приложения, акцентирующий внимание на взаимодействии компонентов системы,чтобы все компоненты легко обменивались данными между собой и приложение без проблем масштабировалось.
Для общения компонентов, между собой, используется протокол **HTTP/HTTPS**. 

В **REST API** есть клиенты и есть сервер/ы.
* *Клиент* - пользователь, который взаимодействует с нашим сервером
* *Сервер* - машина, на которой стоит основное приложение (весь код, вся бизнес логика и т.д.)

> Принцип работы:
> 
> 1. Клиент отправляет запрос серверу. Запрос написан и отправлен по определенным правилам, чтобы сервер смог понять и обработать данный запрос
> 2. Сервер проверяет клиента, может ли данный клиент запрашивать данные у сервера. Если да - то сервер начинает обрабатывать запрос, если нет - то клиенту отправляется ответ, к примеру 403 - что у клиента нет доступа к ресурсу.
> 3. Если на предыдущем шаге, сервер опознал клиента и начал обрабатывать его запрос, то после обработки запроса, сервер возвращает ответ клиенту со статусом выполнения запроса и информацией, которую запросил клиент 

В ответе сервера данные могут передаваться в XML формате или JSON (более предпочтительный вариант).

* **JSON/JavaScript Object Notation** - текстовый формат обмена данными, основанный на JavaScript.

Пример записи JSON (запрашивали имя человека, его фамилию и возраст):
```JSON
'{"name":"Oleg", "lastName":"Igonin", "age":26}'
```

### Spring MVC

* **Spring MVC** - web-framework Spring. Ориентирован на создание **RESTful** сервисов.

![Spring MVC](resources/MVC.gif)

* **MVC/Model View Controller** - один из паттернов проектирования приложения. Разделяет приложение на три взаимосвязанных слоя:
    * **Model** - слой для работы с данными:
      * Как хранить данные
      * Как взаимодействовать с БД
      * Что и как отдавать контроллеру
    * **View** - слой для отображения данных пользователю:
      * Как получать данные от контроллера 
      * Как отображать полученные данные в браузере пользователя
    * **Controller** - слой для навигации и обработки запросов:
      * Как обрабатывать запросы от пользователя
      * Обмен данными с моделью
      * Какое представление показывать пользователю
      * Переадресация пользователя на другие страницы

Когда запрос от клиента приходит на сервер, то сервер передает его **DispatcherServlet**.

* **DispatcherServlet** - входная точка в Spring MVC приложении. **DispatcherServlet** знает обо всех контроллерах приложения, и запрос клиента приходит именно на него. **DispatcherServlet** проверяет запрос и перенаправляет его на нужный контроллер, который в свою очередь обрабатывает его и передает полученные данные слою **View**. 
