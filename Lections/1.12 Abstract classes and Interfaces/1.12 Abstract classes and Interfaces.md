## 1.12 Абстрактные классы и Интерфейсы

**Абстракция** - принцип ООП, суть которого - выделение значимых характеристик в контексте решаемой задачи и отбрасывание не нужных характеристик.

**abstract** - ключевое слово, которое в зависимости от того, где используется (куда подставляется), имеет следующее значение:

- Если слово **abstract** подставляется перед ключевым слово **class**, то тогда на основе данного класса нельзя создавать экземпляры. Но можно создавать объектную переменную
которая будет ссылаться на объект (экземпляр) потомка, класс которого не является абстрактным.

```JAVA
//Абстрактный класс - класс, на основе которого, нельзя создать объект
public abstract class AbstractClass {
	//Блок кода
}

public class NotAbstractClass extends AbstractClass {
	//Блок кода
}

public class Main {
	public static void main(String[] args) {
		AbstractClass abstractClass = new AbstractClass(); //будет ошибка компиляции
		NotAbstractClass notAbstractClass = new NotAbstractClass(); //ошибок нет
	}
}
```

- Если слово **abstract** подставляется перед контрактом метода, то данный метод не нужно реализовывать в данном классе. Его обязан будет реализовать потомок данного класса. Так же
если в классе есть хотя бы один метод, у которого имеется ключевое слово **abstract**, то мы обязаны сделать класс абстрактным, т.е. добавить ключевое слово **abstract** перед ключевым словом **class**

```JAVA
//По скольку у класса Program есть метод с ключевым словом abstract
//то класс тоже должен быть помечен ключевым словом abstract
public abstract class Program {
	public abstract void test();
}
```

Для чего нужны абстрактные классы:

* Они связывают между собой классы, которые имеют очень близкую связь. 

* Когда нам нужно вывести в абстракцию не только поведение, но и состояние объектов.


### Интерфейсы

**Интерфейс** - набор абстрактных методов (с 8 Java появилась возможность писать методы с дефолтной реализацией, речь про ключевое слово **default**). Интерфейсы описывают только поведение, в отличие от абстрактных классов, где описывается и поведение, и состояние.

> **class A implements B** //класс А реализует интерфейс В

Класс, который имплементирует (реализует) интерфейс, обязан переопределить все абстрактные (не имеющие реализации) методы интерфейса

```JAVA
public interface Moveable {
	void move(int a);
}

//Класс MoveClass имплементирует интерфейс Moveable, а значит обязан переопределить 
//все методы, которые не имеют реализации (абстрактные)
public class MoveClass implements Moveable {
	@Override
	public void move(int a) {
		System.out.println("Мы перемещаемся на " + a + " поинтов");
	}
}
```

Классы могут наследоваться одновременно только от одного класса (от двух классов одновременно наследоваться нельзя), но один класс может одновременно имплементировать(реализовывать) сколько угодно интерфейсов
```JAVA
public class Program extends MainProgram, SimpleProgram { // НЕЛЬЗЯ
    //Блок кода
}

public class Program implements SomeInterface, AnotherInterface { //Так можно, ошибок нет
    //Блок кода
}
```
Интерфейсы, как и абстрактные классы, не могут иметь экземпляры (объекты). Но могут иметь объектную переменную, которая ссылается на объект класса, который имплементирует данный интерфейс

```JAVA
public interface MyInterface {
    void simpleMethod();
}

public class MyClass implements MyInterface {

    public void simpleMethod() {
        System.out.println("Testing simpleMethod");
    }
}

public class Main {
    public static void main(String[] args) {
        MyInterface myInterface = new MyInterface();// НЕЛЬЗЯ, БУДЕТ ОШИБКА
        MyInterface anotherInterface = new MyClass(); //Можно, ошибок нет
    }
}
```
Интерфейс может одновременно наследоваться от нескольких интерфейсов
```JAVA
public interface MainInterface extends SomeInterface, AnotherInterface { //Так можно, ошибок нет
    //Блок кода
}
```
Интерфейсы описывают только поведение, а абстрактные классы могут описывать и поведение, и состояние. 

Стараемся всегда программировать на уровне интерфейсов. Т.е. сначала пишем интерфейс, потом его реализацию  

Все методы в интерфейсе - **public**

Считается плохой практикой написание интерфейса в котором **100500** методов (в котором очень много методов). Очень часто бывает так, что классу, который будет имплементировать данный интерфейс, нужны не все методы, а только часть. Но он обязан переопределять все методы, что есть "не очень хорошо". 